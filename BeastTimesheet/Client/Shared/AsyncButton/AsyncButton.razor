@namespace BeastTimesheet.Client.Shared

@if (State == AsyncButtonState.Ready)
{
    <button @onclick="OnClick" disabled="@Disabled">@ButtonText</button>
}
else if (State == AsyncButtonState.Loading && LoadingText is not null)
{
    <p>@LoadingText</p>
}
else if (ErrorText is not null)
{
    <p class="error">@ErrorText</p>
}

@code {
    [Parameter]
    public AsyncButtonState State { get; set; } = AsyncButtonState.Ready;
    [Parameter, EditorRequired]
    public RenderFragment? ButtonText { get; set; }
    [Parameter]
    public RenderFragment? LoadingText { get; set; }
    [Parameter]
    public RenderFragment? ErrorText { get; set; }
    [Parameter]
    public EventCallback<MouseEventArgs> OnClick { get; set; }
    [Parameter]
    public bool Disabled { get; set; }
}